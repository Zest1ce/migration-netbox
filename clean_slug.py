# Генерация ссылок для NetBOX из названий в phpIPAM (русские символы в латиницу)
def clean_slug(name):
    """
    Очищает строку для использования в качестве slug.
    Транслитерирует русские символы в латиницу, удаляет недопустимые символы.
    """
    # Транслитерация русского текста в латиницу
    slug = translit(name, 'ru', reversed=True)
    # Удаляем недопустимые символы
    slug = re.sub(r'[^\w\s-]', '', slug)
    # Заменяем пробелы на подчеркивания и переводим в нижний регистр
    return slug.strip().lower().replace(" ", "_")